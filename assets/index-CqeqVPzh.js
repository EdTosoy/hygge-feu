import{r as f,T as h,j as t,P as g,S as j,a as b,o as w}from"./index-B6cNwYG_.js";import{u as y}from"./index.esm-BelmPDac.js";import{p as v}from"./postTitle-DbFQgPd-.js";import{u as N}from"./UseAppDispatch-ikqRfIpi.js";import{f as T,M as C}from"./format-yxS38KLK.js";import{u as P}from"./useTranslation-BewvAwbW.js";const A=({contentValue:a,postId:n})=>{const{t:o}=P(),r=T(new Date,C),{toggleModal:i}=f.useContext(h),l=N(),{register:c,handleSubmit:d,reset:u}=y(),p=async e=>{const{newContent:s,newMediaUrl:m}=e;if(s)try{await l(w({postId:n,newTitle:v(s),newContent:s,newMediaUrl:m})).unwrap(),u(),window.location.reload()}catch(x){console.error(x)}else console.log("there is no content or Not Authorize ")};return t.jsxs("form",{className:"py-6 px-4 w-598",onClick:e=>{e.stopPropagation()},onSubmit:d(p),children:[t.jsxs("div",{className:"mb-4 flex justify-between",children:[t.jsx(g,{}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("p",{className:"text-xs",children:o("translation.addPost.postTo")}),t.jsxs("select",{className:"w-28 h-8 rounded-lg bg-light-violet text-xs px-2 py-1",defaultValue:"music","aria-label":"post-to-select",children:["/// get options from the backend",t.jsx("option",{value:"music",children:"Music"}),t.jsx("option",{value:"arts",children:"Arts"}),t.jsx("option",{value:"video-editing",children:"Video Editing"}),t.jsx("option",{value:"games",children:"Games"})]})]})]}),t.jsx("textarea",{className:"w-full p-3 font-light text-xs bg-light-gray rounded-xl border border-light-violet focus:outline-none focus:border-dark-violet",placeholder:`Today is ${r}...`,"aria-label":"post-content-input",rows:7,defaultValue:a,...c("newContent")}),t.jsxs("div",{className:"flex  gap-4 justify-end items-center mt-4",children:[t.jsx(j,{text:"Cancel",className:"px-3 py-1 rounded-full text-sm",onClick:()=>{i()}}),t.jsx(b,{text:o("translation.button.update"),type:"submit",className:"px-3 py-1 rounded-full text-sm"})]})]})};export{A as EditPost};
